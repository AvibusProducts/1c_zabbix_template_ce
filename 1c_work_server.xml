<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.4</version>
    <template_groups>
        <template_group>
            <uuid>d83f326f893144b0b86d0e7c36a5b1d9</uuid>
            <name>Templates/1C</name>
        </template_group>
        <template_group>
            <uuid>a571c0d144b14fd4a87a9d9b2aa9fcd6</uuid>
            <name>Templates/Applications</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>6e363c61459046aab79cc210625ccbd8</uuid>
            <template>Template App 1C Enterprise Work Server</template>
            <name>Template App 1C Enterprise Work Server</name>
            <description>Шаблон для мониторинга рабочего сервера 1С Предприятия

Подробнее https://github.com/AvibusProducts/1c_zabbix_template_ce</description>
            <groups>
                <group>
                    <name>Templates/1C</name>
                </group>
                <group>
                    <name>Templates/Applications</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>be99ca804daf49ffb4a7956cf5327cdd</uuid>
                    <name>[1С/Серверные вызовы] Количество операций</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.calls.count</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+).*?!Общ</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.calls[{$LOG_DIR},count,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>16827ffda79e4b41bbfbbdafbd409161</uuid>
                    <name>[1С/Серверные вызовы] Общая нагрузка CPU</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.calls.cpu</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*).*?!Общ</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.calls[{$LOG_DIR},cpu,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2882fe14000a40c1b96dc3b46fd57b9a</uuid>
                    <name>[1С/Серверные вызовы] Суммарная длительность операций</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.calls.duration</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*).*?!Общ</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.calls[{$LOG_DIR},duration,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>13992aabe9da42ea9fa7f06e056d8b83</uuid>
                    <name>[1С/Серверные вызовы] Средняя длительность операций</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.calls.durationavg</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*).*?!Общ</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.calls[{$LOG_DIR},dur_avg,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e05803c8250346cc80434e3a295e5516</uuid>
                    <name>[1С/Серверные вызовы] &quot;Ленивые&quot; вызовы</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.calls.lazy</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*).*?!Общ</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.calls[{$LOG_DIR},lazy,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>47cf7017a1b74d6e8838ce8ec7407979</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.calls.lazy)&gt;{$MAX_LAZY_CALLS}</expression>
                            <name>[1С/Серверные вызовы] Слишком высокий коэффициент &quot;ленивых&quot; вызовов</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>882fb21d07e94b2b85cb5a46e5481e4a</uuid>
                    <name>[1С/Серверные вызовы] Не освобожденная память</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.calls.memory</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*).*?!Общ</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>1048576</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.calls[{$LOG_DIR},memory,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>81e3be3112bf43ef8428457ebd1f0132</uuid>
                    <name>[1С/Серверные вызовы] Максимальная память за вызов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.calls.memorypeak</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*).*?!Макс</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>1048576</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.calls[{$LOG_DIR},memorypeak,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>05139c6b93a74d948a46e0b35a0cad9d</uuid>
                    <name>[1С/Серверные вызовы] ТОП по суммарному количеству</name>
                    <key>1c.ws.calls[{$LOG_DIR},count,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m4s30</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>83c84a6d35fa4c98ba89df320ad6328e</uuid>
                    <name>[1С/Серверные вызовы] ТОП по суммарному процессорному времени</name>
                    <key>1c.ws.calls[{$LOG_DIR},cpu,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m1s30</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>83fa74a638374e9da0e72c7d96e84e48</uuid>
                    <name>[1С/Серверные вызовы] ТОП по суммарной длительности</name>
                    <key>1c.ws.calls[{$LOG_DIR},duration,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m1</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b1bf54b9a2e54522b1c70ad9b27a0826</uuid>
                    <name>[1С/Серверные вызовы] ТОП по средней длительности</name>
                    <key>1c.ws.calls[{$LOG_DIR},dur_avg,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m2</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>62ce6a75690a42dc925986c707bca26f</uuid>
                    <name>[1С/Серверные вызовы] ТОП по суммарному вводу-выводу</name>
                    <key>1c.ws.calls[{$LOG_DIR},iobytes,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m4</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>222b2f6af6c64274be9d561a52e101de</uuid>
                    <name>[1С/Серверные вызовы] ТОП &quot;ленивых&quot; вызовов</name>
                    <key>1c.ws.calls[{$LOG_DIR},lazy,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m3s30</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>d51ede9cc800424f9e0ed59f0cce7f92</uuid>
                    <name>[1С/Серверные вызовы] ТОП по не освобожденной памяти за вызов</name>
                    <key>1c.ws.calls[{$LOG_DIR},memory,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m2s30</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5e66e84d5f3d4375a6c220b16051a85a</uuid>
                    <name>[1С/Серверные вызовы] ТОП по максимальной памяти за вызов</name>
                    <key>1c.ws.calls[{$LOG_DIR},memorypeak,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m3</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>bf92695f6041449f8516317ebbdeac87</uuid>
                    <name>[1С/Рабочий сервер] ТОП событий кластера</name>
                    <key>1c.ws.cluster[{$LOG_DIR},{$TOP_LIST_SIZE}]</key>
                    <delay>0;m1</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>92c60fc85200490cb5bf6c1edee59aaf</uuid>
                    <name>[1С/СУБД] ТОП длительности запросов на СУБД</name>
                    <key>1c.ws.db[{$LOG_DIR},list,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m1</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>142d05cc1a104de2aecebd5cc49110d7</uuid>
                    <name>[1С/СУБД] Суммарная длительность запросов на СУБД</name>
                    <key>1c.ws.db_summary[{$LOG_DIR}]</key>
                    <delay>0;m1</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>89f94b826bdd4368ac875f442d65b8d5</uuid>
                    <name>[1С/Рабочий сервер] ТОП ошибок процессов</name>
                    <key>1c.ws.excps[{$LOG_DIR},list,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m1</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>249204b33f304bf0979e5d7249327c4b</uuid>
                    <name>[1С/Рабочий сервер] ТОП текущих ошибок кластера</name>
                    <key>1c.ws.excps[{$LOG_DIR},list_current,{$TOP_LIST_SIZE},{$EXCP_FILTER}]</key>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>1856ce1015f442538e96529cf734be9d</uuid>
                            <expression>nodata(/Template App 1C Enterprise Work Server/1c.ws.excps[{$LOG_DIR},list_current,{$TOP_LIST_SIZE},{$EXCP_FILTER}],1m)=0</expression>
                            <name>[1С/APDEX] Общее значение APDEX нет данных</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>f58f9a3a0b224db8b673dec068bcac65</uuid>
                    <name>[1С/Рабочий сервер] Ошибки процессов</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>1c.ws.excps[{$LOG_DIR}]</key>
                    <delay>0;m2</delay>
                    <history>0</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6997075b6de94b22924e88c475f5a251</uuid>
                    <name>[1С/Рабочий сервер] ТОП ошибок лицензирования</name>
                    <key>1c.ws.lic[{$LOG_DIR},{$TOP_LIST_SIZE}]</key>
                    <delay>0;m1</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ce60fa1878aa412aa8efdefdf400c134</uuid>
                    <name>[1С/Блокировки] Число взаимоблокировок</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.locks.deadlock</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>deadlock: (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>32fbedaad30d4298bf87f7bb3e92168c</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.locks.deadlock)&gt;0</expression>
                            <name>[1С/Блокировки] Обнаружены взаимоблокировки</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>ef79337023f347c79cc8e5347dfb6e7e</uuid>
                    <name>[1С/Блокировки] Число блокировок</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.locks.lock</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>lock: (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>051a362a6a9d40edbc18fc6cf55c803d</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.locks.lock)=0</expression>
                            <name>[1С/Блокировки] Отсутствуют блокировки</name>
                            <priority>INFO</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>0eb8eee98c724fe2b7182ceb0d93c1c3</uuid>
                    <name>[1С/Блокировки] Общее время блокировок</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.locks.lock_duration</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*).*?!Общ.*?\|</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS},list,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6916f03faabb4958b2cc1adb976c5a40</uuid>
                    <name>[1С/Блокировки] Общее время ожидания блокировок</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.locks.lock_wait_duration</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>\|.*?(\d+\.\d*).*?!Общ</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS},list,{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>83118d60d0a6434f81f06f31796bd694</uuid>
                    <name>[1С/Блокировки] Число таймаутов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.locks.timeout</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>timeout: (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>d311731eb9e846b980a998113f39c239</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.locks.timeout)&gt;0</expression>
                            <name>[1С/Блокировки] Обнаружены таймауты</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>be683d3985454dbe9cf77548b8c009b8</uuid>
                    <name>[1С/Блокировки] Общее ожидание на блокировках</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.locks.wait</key>
                    <delay>0</delay>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>wait: (\d+.?\d*)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>623102f29b6e45ad9829ca963c7e9a14</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.locks.wait)&gt;{$MAX_LOCK_WAIT}</expression>
                            <name>[1С/Блокировки] Превышено пороговое значение ожидания на блокировках</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>c07ad83d27e342c9bf27fb8ed6508f75</uuid>
                    <name>[1С/Блокировки] ТОП блокировок</name>
                    <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS},list,{$TOP_LIST_SIZE}]</key>
                    <delay>0;m4</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c71390ea9c9d410288c17e9c56de78c2</uuid>
                    <name>[1С/Блокировки] Сводка</name>
                    <key>1c.ws.locks[{$LOG_DIR},{$MAX_LOCK_WAIT},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS}]</key>
                    <delay>0;m1</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Управляемые блокировки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>4c6e51b7579c4dbeb6b336d63802249c</uuid>
                    <name>[1С/APDEX] Общий APDEX</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.apdex</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>\d?!(\d+\.\d*).*?Общий APDEX</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>2fbdbbc810c4480e86277b25de7cce13</uuid>
                            <expression>nodata(/Template App 1C Enterprise Work Server/1c.ws.measures.apdex,1h)=1</expression>
                            <name>[1С/APDEX] Общее значение APDEX нет данных</name>
                            <priority>DISASTER</priority>
                        </trigger>
                        <trigger>
                            <uuid>b29bc6d692344c69b8daeb2932fe36ea</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.measures.apdex)&lt;{$MIN_APDEX}</expression>
                            <name>[1С/APDEX] Общее значение APDEX ниже допустимого</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>926d798d884044758a491ff245de62bf</uuid>
                    <name>[1С/APDEX] Общий APDEX Пользователи</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.apdex_cln</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>\d?!(\d+\.\d*).*?Общий APDEX</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_CLN}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>aa7fc39b1ce9443597753739c7b00b58</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.measures.apdex_cln)&lt;{$MIN_APDEX_CLN}</expression>
                            <name>[1С/APDEX] Общее значение APDEX пользовательских операций ниже допустимого</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a757f406c9e94d86a36a448710ef1d38</uuid>
                    <name>[1С/APDEX] Общий APDEX WEB</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.apdex_web</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>\d?!(\d+\.\d*).*?Общий APDEX</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_WEB}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>67453ef6cf45422f934b9d85fe8798d7</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.measures.apdex_web)&lt;{$MIN_APDEX_WEB}</expression>
                            <name>[1С/APDEX] Общее значение APDEX WEB-операций ниже допустимого</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>7c77c6491921476db003ae42475dfa03</uuid>
                    <name>[1С/APDEX] Benchmark</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.benchmark</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>операций;.+?(\d+\.\d*)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_BENCH}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>d3d166c1afc84a6b9f5123e7768a6182</uuid>
                    <name>[1С/APDEX] Benchmark Avg</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.benchmark_avg</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\d+\.\d*) - Среднее</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_BENCH}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>034e6ab76670454aada8d0d07c9a4773</uuid>
                    <name>[1С/APDEX] Количество замеров</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.count</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>APDEX;.+?(\d*)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c96fb940be554ca492b9aa1ce0fcd0a5</uuid>
                    <name>[1С/APDEX] Количество замеров Пользователи</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.count_cln</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>APDEX;.+?(\d*)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_CLN}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e381869a38af4ac2aad0e41e5f16178a</uuid>
                    <name>[1С/APDEX] Количество замеров WEB</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.measures.count_web</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>APDEX;.+?(\d*)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_WEB}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ae5c005cf08642c48440f06abff401e3</uuid>
                    <name>[1С/APDEX] ТОП операций Benchmark</name>
                    <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_BENCH}]</key>
                    <delay>0;m0,15,30,45s40</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c545ffdb96e3499cb10e4e886e1f25fe</uuid>
                    <name>[1С/APDEX] ТОП операций с худшим APDEX Пользователи</name>
                    <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_CLN}]</key>
                    <delay>0;m0,15,30,45s40</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ddc635fbbfdc4e1c8fb76d53dc20d387</uuid>
                    <name>[1С/APDEX] ТОП операций с худшим APDEX WEB</name>
                    <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE},{$APDEX_LIST_WEB}]</key>
                    <delay>0;m0,15,30,45s20</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0d6c70ea9f32454daa5c702301b3e651</uuid>
                    <name>[1С/APDEX] ТОП операций с худшим APDEX</name>
                    <key>1c.ws.measures[{$MEASURE_LOG_DIR},{$TOP_LIST_SIZE}]</key>
                    <delay>0;m0,15,30,45</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f5e328f266ad40d887526ec11aad0949</uuid>
                    <name>[1С/Рабочий сервер] Объем памяти процессов</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>1c.ws.memory</key>
                    <delay>30s</delay>
                    <history>0</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>bc34da186677432194881ec4b79847f8</uuid>
                    <name>[1С/MSSQL][Workmem] Объем памяти СУБД</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.mssql.memory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>sqlservr: \d+ (\d+) \d</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>84fab8c44c1e4b60875ab886c0e5f2fe</uuid>
                    <name>[1С/MSSQL][Virtualmem] Объем памяти СУБД</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.mssql.vmemory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>sqlservr: \d+ \d+ (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0200a7d31c284f49a6a4b864c280585c</uuid>
                    <name>[1С/Рабочий процесс] Доступная производительность</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>1c.ws.perfs[{$CLSTR_CACHE_DIR},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS}]</key>
                    <value_type>FLOAT</value_type>
                    <description>Среднее значение доступной производительности рабочих процессов данного сервера</description>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>42844b3c79b946de9e032fad064fb3fc</uuid>
                    <name>[1С/Postgres][Workmem] Объем памяти СУБД</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.postgres.memory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>postgres: \d+ (\d+) \d</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e9d43273bc8f4be7aa1225a7040a6e3f</uuid>
                    <name>[1С/Postgres][Virtualmem] Объем памяти СУБД</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.postgres.vmemory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>postgres: \d+ \d+ (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6bc29776293c447b8a8aa11454fbe72c</uuid>
                    <name>[1С/Агент сервера] Число процессов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.ragent.count</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>ragent: (\d+) \d+ \d+</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>1f66b9bdfaa044449a1417edd04a9323</uuid>
                    <name>[1С/Агент сервера] Режим отладки</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.ragent.debug</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>ragent: \d+ \d+ (\d)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Информация</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>e051539ec7664273b1f640de3422c433</uuid>
                            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.ragent.debug)=1</expression>
                            <name>[1С/Рабочий сервер] Включен режим отладки</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a532292b30904a4cbc48ed5089d4a2bc</uuid>
                    <name>[1С/Агент сервера] Количество исключений</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.ragent.excps</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>ragent: (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.excps[{$LOG_DIR}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>1d7ad404fe1f413686821133420aabf0</uuid>
                    <name>[1С/Агент сервера] Объем памяти всех процессов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.ragent.memory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>ragent: \d+ (\d+) \d+</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>d27a73b9342344fb8f63c5ec0664fe9c</uuid>
                    <name>[1С/Рабочий сервер] Объем памяти сервера</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>1c.ws.ram</key>
                    <delay>1h</delay>
                    <units>B</units>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>258ec3a57ff14f25abd9c6688133a1a2</uuid>
                    <name>[1С/Менеджер кластера] Число процессов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rmngr.count</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rmngr: (\d+) \d+</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f9e3492d988748c4932261b31a9b299e</uuid>
                    <name>[1С/Менеджер кластера] Количество исключений</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rmngr.excps</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rmngr: (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.excps[{$LOG_DIR}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>689307dd2f434ddc83e8aa84c30f64b8</uuid>
                    <name>[1С/Менеджер кластера] Объем памяти всех процессов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rmngr.memory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rmngr: \d+ (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>68966446521e4a40a1754f8266640f4f</uuid>
                    <name>[1С/Рабочий процесс] Перемены в процессах</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rphost.change</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>[1С/Рабочий процесс] Перемены в процессах</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rphost: \d+ \d+ (\d)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Устойчивость системы</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e02559b8ca0245b780a357d76a1379d4</uuid>
                    <name>[1С/Рабочий процесс] Число процессов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rphost.count</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rphost: (\d+) \d+ \d</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f2c8c9b0d58947bf830aa5a18ad6776e</uuid>
                    <name>[1С/Рабочий процесс] Количество исключений</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rphost.excps</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rphost: (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.excps[{$LOG_DIR}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Ошибки</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9c10714494de410bbf7efdbd9d0d7e6c</uuid>
                    <name>[1С/Рабочий процесс][Workmem] Объем памяти всех процессов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rphost.memory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rphost: \d+ (\d+) \d</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>fad28c1cf481417cac087b7c2964f898</uuid>
                    <name>[1С/Рабочий процесс][Virtualmem] Объем памяти всех процессов</name>
                    <type>DEPENDENT</type>
                    <key>1c.ws.rphost.vmemory</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>rphost: \d+ \d+ (\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>1c.ws.memory</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>[1C] Использование ресурсов</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>[1С] Производительность</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$APDEX_LIST_BENCH}</macro>
                    <value>Benchmark</value>
                </macro>
                <macro>
                    <macro>{$APDEX_LIST_CLN}</macro>
                    <value>РМК,ЗаказКлиента</value>
                    <description>Список пользовательских ключевых операций</description>
                </macro>
                <macro>
                    <macro>{$APDEX_LIST_WEB}</macro>
                    <value>SalePort,StartSaleSession,AddTickets,Payment,GetTrips</value>
                    <description>Список ключевых операций веб-запросов</description>
                </macro>
                <macro>
                    <macro>{$CLSTR_CACHE_DIR}</macro>
                    <value>/var/log/1c/zabbix/cluster_cache</value>
                    <description>Директория для формирования временных данных - кэш данных кластера, например</description>
                </macro>
                <macro>
                    <macro>{$COUNT_CHECKS}</macro>
                    <value>#20</value>
                    <description>Количество проверок</description>
                </macro>
                <macro>
                    <macro>{$EXCP_FILTER}</macro>
                    <value>лиценз</value>
                </macro>
                <macro>
                    <macro>{$EXCP_THRESHOLD}</macro>
                    <value>250</value>
                    <description>Пороговое количество исключений на процесс</description>
                </macro>
                <macro>
                    <macro>{$LOG_DIR}</macro>
                    <value>/var/log/1c/</value>
                    <description>Каталог технологического журнала</description>
                </macro>
                <macro>
                    <macro>{$MAX_LAZY_CALLS}</macro>
                    <value>4</value>
                    <description>Максимальный порог коэффициента &quot;ленивых&quot; вызовов</description>
                </macro>
                <macro>
                    <macro>{$MAX_LOCK_WAIT}</macro>
                    <value>20</value>
                    <description>Пороговая величина времени ожидания на управляемых блокировках, сек</description>
                </macro>
                <macro>
                    <macro>{$MEASURE_LOG_DIR}</macro>
                    <value>/var/log/1c/measures</value>
                    <description>Каталог выгруженных файлов оценки производительности (APDEX)</description>
                </macro>
                <macro>
                    <macro>{$MIN_APDEX}</macro>
                    <value>0.85</value>
                    <description>Минимальное допустимое значение общего APDEX</description>
                </macro>
                <macro>
                    <macro>{$MIN_APDEX_CLN}</macro>
                    <value>0.85</value>
                    <description>Минимальное допустимое значение APDEX пользовательских операций</description>
                </macro>
                <macro>
                    <macro>{$MIN_APDEX_WEB}</macro>
                    <value>0.7</value>
                    <description>Минимальное допустимое значение APDEX WEB операций</description>
                </macro>
                <macro>
                    <macro>{$RAS_PASS}</macro>
                    <description>Пароль пользователя администратора кластера</description>
                </macro>
                <macro>
                    <macro>{$RAS_PORTS}</macro>
                    <value>1545</value>
                    <description>Порты сервиса RAS (если используется несколько сервисов, то указываются через запятую)</description>
                </macro>
                <macro>
                    <macro>{$RAS_TIMEOUT}</macro>
                    <value>1.5</value>
                    <description>Таймаут ожидания ответа от службы RAS</description>
                </macro>
                <macro>
                    <macro>{$RAS_USER}</macro>
                    <description>Имя пользователя администратора кластера</description>
                </macro>
                <macro>
                    <macro>{$RPHOST_MAX_MEM}</macro>
                    <value>0.85</value>
                    <description>Относительная допустимая величина объема памяти процессов rphost</description>
                </macro>
                <macro>
                    <macro>{$TOP_LIST_SIZE}</macro>
                    <value>25</value>
                    <description>Количество записей в TOP-списках</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>88aca50b1143480d92bec5ca241c75ca</uuid>
                    <name>[1С/Рабочий процесс] Перемены в процессах</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>изменений нет</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>произошло изменение</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
    <triggers>
        <trigger>
            <uuid>41a7e6dfff79457da4dfb9f52a1afbcb</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)&gt;last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count)&gt;0 or last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)&gt;last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count)&gt;0</expression>
            <name>[1С/Агент сервера] Аномальное число процессов</name>
            <priority>AVERAGE</priority>
            <dependencies>
                <dependency>
                    <name>[1С/Менеджер кластера] Нет запущенных процессов</name>
                    <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)&gt;0</expression>
                </dependency>
                <dependency>
                    <name>[1С/Рабочий процесс] Нет запущенных процессов</name>
                    <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)&gt;0</expression>
                </dependency>
            </dependencies>
        </trigger>
        <trigger>
            <uuid>0bb546aee21c4bdb9cd278c92ae02db2</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.ragent.excps)/avg(/Template App 1C Enterprise Work Server/1c.ws.ragent.count,3600s)&gt;{$EXCP_THRESHOLD}</expression>
            <name>[1С/Агент сервера] Количество исключений свыше {$EXCP_THRESHOLD}</name>
            <priority>AVERAGE</priority>
        </trigger>
        <trigger>
            <uuid>a8927a302a514a1d923a63eca4987fec</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)=0 and (last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count)&gt;0 or last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count)&gt;0)</expression>
            <name>[1С/Агент сервера] Нет запущенных процессов</name>
            <priority>HIGH</priority>
        </trigger>
        <trigger>
            <uuid>4039752b651049f29d39b6333f65e30a</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count)=0</expression>
            <name>[1С/Кластер] Отсутствуют все процессы кластера</name>
            <priority>HIGH</priority>
        </trigger>
        <trigger>
            <uuid>7abdf8cc5aed4bdc9d7c46507955aae9</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.excps)/avg(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count,3600s)&gt;{$EXCP_THRESHOLD}</expression>
            <name>[1С/Менеджер кластера] Количество исключений свыше {$EXCP_THRESHOLD}</name>
            <priority>AVERAGE</priority>
        </trigger>
        <trigger>
            <uuid>b8b387dfade748e186e1ac66f7f98307</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)&gt;0</expression>
            <name>[1С/Менеджер кластера] Нет запущенных процессов</name>
            <priority>HIGH</priority>
            <dependencies>
                <dependency>
                    <name>[1С/Кластер] Отсутствуют все процессы кластера</name>
                    <expression>last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count)=0</expression>
                </dependency>
            </dependencies>
        </trigger>
        <trigger>
            <uuid>2ef7a245df0a4a95b027154522d90db3</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rphost.excps)/avg(/Template App 1C Enterprise Work Server/1c.ws.rphost.count,3600s)&gt;{$EXCP_THRESHOLD}</expression>
            <name>[1С/Рабочий процесс] Количество исключений свыше {$EXCP_THRESHOLD}</name>
            <priority>AVERAGE</priority>
        </trigger>
        <trigger>
            <uuid>c7f625e0bf52434297b261e44c81907b</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)&gt;0</expression>
            <name>[1С/Рабочий процесс] Нет запущенных процессов</name>
            <priority>HIGH</priority>
            <dependencies>
                <dependency>
                    <name>[1С/Кластер] Отсутствуют все процессы кластера</name>
                    <expression>last(/Template App 1C Enterprise Work Server/1c.ws.ragent.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.count)=0 and last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count)=0</expression>
                </dependency>
            </dependencies>
        </trigger>
        <trigger>
            <uuid>2c6d0a75fa6c494b83ecd318fe434e3f</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rphost.memory)/last(/Template App 1C Enterprise Work Server/1c.ws.ram)&gt;{$RPHOST_MAX_MEM}</expression>
            <name>[1С/Рабочий процесс] Превышено пороговое значение используемой памяти</name>
            <priority>AVERAGE</priority>
        </trigger>
        <trigger>
            <uuid>6d83dbe4a92e48d09dbd2dfb3ce00e5d</uuid>
            <expression>avg(/Template App 1C Enterprise Work Server/1c.ws.rphost.count,5m)=last(/Template App 1C Enterprise Work Server/1c.ws.rphost.count) and count(/Template App 1C Enterprise Work Server/1c.ws.rphost.change,5m,,&quot;1&quot;)&gt;=3</expression>
            <name>[1С/Рабочий процесс] Частые изменения в списке процессов</name>
            <priority>HIGH</priority>
        </trigger>
        <trigger>
            <uuid>1fe2049374ae4ca7be6947a7cc06e334</uuid>
            <expression>last(/Template App 1C Enterprise Work Server/1c.ws.rmngr.memory)&gt;=max(/Template App 1C Enterprise Work Server/1c.ws.rphost.memory,90s)</expression>
            <name>[1С/Рабочий сервер] Объем памяти rmngr превышает объем rphost</name>
            <priority>HIGH</priority>
        </trigger>
    </triggers>
    <graphs>
        <graph>
            <uuid>22180711f677429cbd4ee477ce036273</uuid>
            <name>[1С/Рабочий сервер] Объем используемой памяти</name>
            <graph_items>
                <graph_item>
                    <color>FF4000</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.ram</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>FC6EA3</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.ragent.memory</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>C7A72D</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rmngr.memory</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rphost.memory</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>4</sortorder>
                    <color>6C59DC</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.ragent.count</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>5</sortorder>
                    <color>BA2A5D</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rmngr.count</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>6</sortorder>
                    <color>0040FF</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rphost.count</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>7</sortorder>
                    <color>F7941D</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rphost.change</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>143aec0bda744594ac0b9dafd4cdfcbf</uuid>
            <name>[1С/Рабочий сервер] Объем памяти процессов</name>
            <type>STACKED</type>
            <ymax_type_1>ITEM</ymax_type_1>
            <ymax_item_1>
                <host>Template App 1C Enterprise Work Server</host>
                <key>1c.ws.ram</key>
            </ymax_item_1>
            <graph_items>
                <graph_item>
                    <color>199C0D</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.ram</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rphost.memory</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>F7941D</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rmngr.memory</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.ragent.memory</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>acd87c375e2649068397010553604e15</uuid>
            <name>[1С/Рабочий сервер] Ошибки процессов</name>
            <graph_items>
                <graph_item>
                    <color>199C0D</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.ragent.excps</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rmngr.excps</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rphost.excps</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>8ae3ea6172cb487588abef4b2eedd811</uuid>
            <name>[1С/Рабочий сервер] Процессы сервера</name>
            <show_triggers>NO</show_triggers>
            <graph_items>
                <graph_item>
                    <color>F63100</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.ragent.count</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>2774A4</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rmngr.count</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>199C0D</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rphost.count</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>F7941D</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.perfs[{$CLSTR_CACHE_DIR},{$RAS_PORTS},{$RAS_TIMEOUT},{$RAS_USER},{$RAS_PASS}]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>4</sortorder>
                    <color>0040FF</color>
                    <item>
                        <host>Template App 1C Enterprise Work Server</host>
                        <key>1c.ws.rphost.change</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
